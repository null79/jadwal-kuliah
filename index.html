<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Farm Productivity</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    /* ========== CSS VARIABLES ========== */
    :root {
      --bg:        #f5e6c8;
      --bg2:       #ede0b0;
      --card-bg:   #fdf3dc;
      --brown:     #7c4f2a;
      --brown-lt:  #b07a40;
      --green:     #4a7c3f;
      --green-lt:  #6db35a;
      --yellow:    #f0c230;
      --yellow-dk: #c99a10;
      --red:       #c0392b;
      --shadow:    4px 4px 0px #7c4f2a;
      --border:    3px solid #7c4f2a;
      --font:      'Press Start 2P', monospace;
    }

    /* ========== RESET & BASE ========== */
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background-color: var(--bg);
      background-image:
        repeating-linear-gradient(0deg,   transparent, transparent 31px, rgba(124,79,42,.08) 32px),
        repeating-linear-gradient(90deg,  transparent, transparent 31px, rgba(124,79,42,.08) 32px);
      font-family: var(--font);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px 16px 40px;
      color: var(--brown);
    }

    /* ========== HEADER ========== */
    header {
      text-align: center;
      margin-bottom: 28px;
    }

    header .title-box {
      display: inline-block;
      background: var(--yellow);
      border: var(--border);
      box-shadow: var(--shadow);
      padding: 12px 20px;
      margin-bottom: 8px;
    }

    header h1 {
      font-size: clamp(10px, 2.5vw, 16px);
      letter-spacing: 1px;
      color: var(--brown);
      text-shadow: 2px 2px 0 var(--yellow-dk);
    }

    header .subtitle {
      font-size: 7px;
      color: var(--brown-lt);
      letter-spacing: 1px;
    }

    /* ========== LAYOUT ========== */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      width: 100%;
      max-width: 800px;
    }

    /* ========== CARD ========== */
    .card {
      background: var(--card-bg);
      border: var(--border);
      box-shadow: var(--shadow);
      border-radius: 2px;
      overflow: hidden;
    }

    .card-header {
      background: var(--green);
      border-bottom: var(--border);
      padding: 10px 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-header .icon { font-size: 14px; }

    .card-header h2 {
      font-size: 8px;
      color: #fff;
      text-shadow: 1px 1px 0 rgba(0,0,0,.4);
      letter-spacing: .5px;
    }

    .card-body { padding: 16px; }

    /* ========== SCHEDULE CARD ========== */
    .day-label {
      font-size: 7px;
      background: var(--yellow);
      border: 2px solid var(--brown);
      display: inline-block;
      padding: 4px 8px;
      margin-bottom: 12px;
      box-shadow: 2px 2px 0 var(--brown);
    }

    .schedule-list { list-style: none; }

    .schedule-item {
      background: var(--bg2);
      border: 2px solid var(--brown-lt);
      padding: 8px 10px;
      margin-bottom: 8px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      box-shadow: 2px 2px 0 var(--brown-lt);
    }

    .schedule-time {
      font-size: 6px;
      color: var(--green);
      letter-spacing: .5px;
    }

    .schedule-name {
      font-size: 7px;
      color: var(--brown);
      line-height: 1.5;
    }

    .no-class {
      font-size: 8px;
      color: var(--brown-lt);
      text-align: center;
      padding: 20px 0;
    }

    /* ========== MISSION CARD ========== */
    .mission-list { list-style: none; }

    .mission-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 10px;
      margin-bottom: 8px;
      background: var(--bg2);
      border: 2px solid var(--brown-lt);
      cursor: pointer;
      transition: transform .1s;
      box-shadow: 2px 2px 0 var(--brown-lt);
      user-select: none;
    }

    .mission-item:hover { transform: translate(-1px, -1px); box-shadow: 3px 3px 0 var(--brown-lt); }
    .mission-item:active { transform: translate(1px, 1px); box-shadow: 1px 1px 0 var(--brown-lt); }

    .mission-item.done { background: #d4edda; border-color: var(--green); }
    .mission-item.done .mission-text { text-decoration: line-through; color: var(--green); }

    .checkbox {
      width: 16px; height: 16px;
      border: 2px solid var(--brown);
      background: #fff;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
      font-size: 10px;
    }

    .mission-item.done .checkbox {
      background: var(--green);
      border-color: var(--green);
      color: #fff;
    }

    .mission-text { font-size: 7px; line-height: 1.5; }

    /* ========== PROGRESS BAR ========== */
    .progress-area {
      margin-top: 14px;
      border-top: 2px dashed var(--brown-lt);
      padding-top: 14px;
    }

    .progress-text {
      font-size: 7px;
      margin-bottom: 8px;
      color: var(--brown);
      text-align: center;
    }

    .progress-track {
      height: 14px;
      background: #e8d9b4;
      border: 2px solid var(--brown);
      box-shadow: 2px 2px 0 var(--brown);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--green-lt), var(--green));
      transition: width .4s steps(10, end);
      min-width: 0;
    }

    /* ========== MASCOT ========== */
    .mascot-wrap {
      display: flex;
      justify-content: center;
      margin-top: 28px;
    }

    .mascot {
      animation: idle 1s steps(2, end) infinite;
      cursor: pointer;
      width: 64px;
      image-rendering: pixelated;
    }

    .mascot.celebrate { animation: jump .5s steps(4, end) infinite; }

    @keyframes idle {
      0%   { transform: translateY(0); }
      50%  { transform: translateY(-4px); }
      100% { transform: translateY(0); }
    }

    @keyframes jump {
      0%   { transform: translateY(0)   rotate(0deg); }
      25%  { transform: translateY(-14px) rotate(-8deg); }
      50%  { transform: translateY(-18px) rotate(0deg); }
      75%  { transform: translateY(-10px) rotate(8deg); }
      100% { transform: translateY(0)   rotate(0deg); }
    }

    /* ========== SPEECH BUBBLE ========== */
    .bubble {
      background: #fff;
      border: 2px solid var(--brown);
      box-shadow: 2px 2px 0 var(--brown);
      padding: 6px 10px;
      font-size: 6px;
      margin-bottom: 6px;
      position: relative;
      max-width: 160px;
      text-align: center;
      line-height: 1.6;
    }

    .bubble::after {
      content: '';
      position: absolute;
      bottom: -8px; left: 50%; transform: translateX(-50%);
      border: 4px solid transparent;
      border-top-color: var(--brown);
    }

    .bubble::before {
      content: '';
      position: absolute;
      bottom: -6px; left: 50%; transform: translateX(-50%);
      border: 4px solid transparent;
      border-top-color: #fff;
      z-index: 1;
    }

    .mascot-area { display: flex; flex-direction: column; align-items: center; }
  </style>
</head>
<body>

<!-- ========== HEADER ========== -->
<header>
  <div class="title-box">
    <h1>üåæ My Farm Productivity</h1>
  </div>
  <p class="subtitle">‚ñ∏ Harvest your day! ‚óÇ</p>
</header>

<!-- ========== GRID ========== -->
<div class="grid">

  <!-- CARD 1: TODAY'S SCHEDULE -->
  <div class="card">
    <div class="card-header">
      <span class="icon">üìÖ</span>
      <h2>Today's Schedule</h2>
    </div>
    <div class="card-body">
      <div class="day-label" id="dayLabel">Loading‚Ä¶</div>
      <ul class="schedule-list" id="scheduleList"></ul>
    </div>
  </div>

  <!-- CARD 2: DAILY MISSIONS -->
  <div class="card">
    <div class="card-header">
      <span class="icon">‚öîÔ∏è</span>
      <h2>Daily Missions</h2>
    </div>
    <div class="card-body">
      <ul class="mission-list" id="missionList"></ul>
      <div class="progress-area">
        <p class="progress-text" id="progressText">0 / 5 Missions Completed</p>
        <div class="progress-track">
          <div class="progress-fill" id="progressFill" style="width:0%"></div>
        </div>
      </div>
    </div>
  </div>

</div><!-- /grid -->

<!-- ========== MASCOT ========== -->
<div class="mascot-wrap">
  <div class="mascot-area">
    <div class="bubble" id="bubble">Ayo selesaikan misimu hari ini! üå±</div>
    <!-- Pixel Chicken SVG -->
    <svg id="mascot" class="mascot" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="none">
      <!-- body -->
      <rect x="4" y="7" width="8" height="7" fill="#f0c230"/>
      <!-- head -->
      <rect x="5" y="3" width="6" height="5" fill="#f0c230"/>
      <!-- eye -->
      <rect x="9" y="4" width="2" height="2" fill="#7c4f2a"/>
      <rect x="10" y="4" width="1" height="1" fill="#fff"/>
      <!-- beak -->
      <rect x="11" y="6" width="2" height="1" fill="#c99a10"/>
      <!-- comb -->
      <rect x="7" y="1" width="2" height="3" fill="#c0392b"/>
      <rect x="9" y="2" width="2" height="2" fill="#c0392b"/>
      <!-- wing -->
      <rect x="3" y="8" width="2" height="4" fill="#c99a10"/>
      <rect x="11" y="8" width="2" height="4" fill="#c99a10"/>
      <!-- legs -->
      <rect x="6" y="14" width="2" height="2" fill="#c99a10"/>
      <rect x="9" y="14" width="2" height="2" fill="#c99a10"/>
      <!-- feet -->
      <rect x="5" y="15" width="1" height="1" fill="#c99a10"/>
      <rect x="8" y="15" width="1" height="1" fill="#c99a10"/>
    </svg>
  </div>
</div>

<!-- ========== JAVASCRIPT ========== -->
<script>
  // ===== DATA JADWAL =====
  const SCHEDULE = {
    1: [ // Senin
      { time: '07:30‚Äì10:50', name: 'Proyek Aplikasi Dasar' }
    ],
    2: [ // Selasa
      { time: '07:30‚Äì11:40', name: 'Sistem Terdistribusi' },
      { time: '12:30‚Äì16:20', name: 'Desain Pengalaman Pengguna' }
    ],
    3: [ // Rabu
      { time: '07:30‚Äì09:10', name: 'Manajemen Proyek' },
      { time: '09:10‚Äì10:50', name: 'Bahasa Indonesia' }
    ],
    4: [ // Kamis
      { time: '07:30‚Äì09:10', name: 'Keamanan Perangkat Lunak' },
      { time: '12:30‚Äì16:20', name: 'Analisis dan Desain Perangkat Lunak' }
    ],
    5: [ // Jumat
      { time: '09:10‚Äì10:50', name: 'Pendidikan Agama' }
    ],
    6: [], // Sabtu
    0: []  // Minggu
  };

  const DAY_NAMES = ['Minggu','Senin','Selasa','Rabu','Kamis','Jumat','Sabtu'];

  // ===== DATA MISI =====
  const MISSIONS = [
    { id: 'gym',    label: 'üèãÔ∏è Gym' },
    { id: 'focus',  label: 'üìö Fokus Kuliah 2 Jam' },
    { id: 'music',  label: 'üéµ Musik 30 Menit' },
    { id: 'ibadah', label: 'üôè Ibadah' },
    { id: 'mental', label: 'üßò Mental Reset' }
  ];

  const STORAGE_KEY = 'farm_missions_' + new Date().toDateString();

  // ===== RENDER SCHEDULE =====
  function renderSchedule() {
    const day  = new Date().getDay();
    const name = DAY_NAMES[day];
    const list = SCHEDULE[day];

    document.getElementById('dayLabel').textContent = 'üìÜ ' + name;

    const ul = document.getElementById('scheduleList');
    ul.innerHTML = '';

    if (!list || list.length === 0) {
      const li = document.createElement('li');
      li.className = 'no-class';
      li.textContent = 'üéâ No class today!\nEnjoy your free day~';
      ul.appendChild(li);
      return;
    }

    list.forEach(item => {
      const li = document.createElement('li');
      li.className = 'schedule-item';
      li.innerHTML = `
        <span class="schedule-time">‚è∞ ${item.time}</span>
        <span class="schedule-name">${item.name}</span>
      `;
      ul.appendChild(li);
    });
  }

  // ===== LOAD SAVED MISSIONS =====
  function loadMissions() {
    try {
      return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};
    } catch { return {}; }
  }

  function saveMissions(state) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
  }

  // ===== RENDER MISSIONS =====
  function renderMissions() {
    const state = loadMissions();
    const ul = document.getElementById('missionList');
    ul.innerHTML = '';

    MISSIONS.forEach(m => {
      const done = !!state[m.id];
      const li = document.createElement('li');
      li.className = 'mission-item' + (done ? ' done' : '');
      li.innerHTML = `
        <div class="checkbox">${done ? '‚úì' : ''}</div>
        <span class="mission-text">${m.label}</span>
      `;
      li.addEventListener('click', () => toggleMission(m.id));
      ul.appendChild(li);
    });

    updateProgress(state);
  }

  function toggleMission(id) {
    const state = loadMissions();
    state[id] = !state[id];
    saveMissions(state);
    renderMissions();
  }

  // ===== UPDATE PROGRESS =====
  const BUBBLES = {
    0: 'Ayo selesaikan misimu hari ini! üå±',
    1: 'Bagus! Pertahankan! üí™',
    2: 'Terus semangat, petani hebat! üåø',
    3: 'Sudah setengah jalan! üåª',
    4: 'Hampir selesai, jangan menyerah! üî•',
    5: 'Semua misi selesai! LUAR BIASA! üéä'
  };

  function updateProgress(state) {
    const count = MISSIONS.filter(m => state[m.id]).length;
    const total = MISSIONS.length;
    const pct   = Math.round((count / total) * 100);

    document.getElementById('progressText').textContent =
      count + ' / ' + total + ' Missions Completed';
    document.getElementById('progressFill').style.width = pct + '%';

    const mascot = document.getElementById('mascot');
    const bubble = document.getElementById('bubble');

    bubble.textContent = BUBBLES[count] || BUBBLES[0];

    if (count === total) {
      mascot.classList.add('celebrate');
    } else {
      mascot.classList.remove('celebrate');
    }
  }

  // ===== INIT =====
  renderSchedule();
  renderMissions();
</script>
</body>
</html>
